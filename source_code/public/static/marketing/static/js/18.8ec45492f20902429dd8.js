webpackJsonp([18],{"0CQ8":function(t,a){},xNNc:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={created:function(){if(this.account_id){var t=this.$route.params||{};t.hasOwnProperty("ad_id")&&this.getAd(t.ad_id)}},watch:{account_id:function(){var t=this.$route.params||{};t.hasOwnProperty("ad_id")&&this.getAd(t.ad_id)}},computed:{account_id:function(){return this.$store.getters.get_account_action.account_id}},data:function(){return{submitLoading:!1,adGroupsList:[],adCreativesList:[],adGroupsListBackups:[],adCreativesListBackups:[],site_setList:{},daily_budget:"",ad_name_size:0,adgroup_id:"",adcreative_id:"",form:{ad_id:"",ad_name:"",impression_tracking_url:"",click_tracking_url:""},adGroupsParams:{page:1,page_size:100,adgroup_id:"",configured_status:"",adgroup_name:"",start_date:"",end_date:""},adCreativesParams:{page:1,page_size:100,adcreative_id:"",adcreative_name:"",start_date:"",end_date:""}}},mounted:function(){},methods:{adGroupChange:function(){var t=0;for(var a in this.adGroupsList)this.adgroup_id==this.adGroupsList[a].adgroup_id&&(t=this.adGroupsList[a].campaign_id);this.getAdcreatives({campaign_id:t})},newAdGroup:function(){this.$router.push("/advertising/adGroup/new")},newCreativity:function(){this.$router.push("/advertising/adCreative/new")},adNameChange:function(){this.ad_name_size=this.form.ad_name.length},dailybudgetChange:function(){this.form.daily_budget=10*this.daily_budget*10},onCancel:function(){this.$router.push("/advertising/ad")},onSubmit:function(){var t=this.form,a=this;t.account_id=this.account_id,a.submitLoading=!0,this.$axios.get("/Admin/Marketing_Ads/update",{params:t}).then(function(t){var e=t.data;a.submitLoading=!1,0==e.code?(a.$message({type:"success",message:e.msg}),setTimeout(function(){a.$router.push("/advertising/ad")},500)):a.$message.error(e.msg)}).catch(function(t){a.$message("网络繁忙，请稍后再试！"),a.submitLoading=!1,console.log(t)})},getAdCommongetEnum:function(){var t=this;this.$axios.get("/Admin/Marketing_Common/getEnum",{}).then(function(a){var e=a.data;0==e.code&&(t.site_setList=e.data.SITE_SET)}).catch(function(t){console.log(t)})},getAdGroups:function(t){var a=this;t.account_id=this.account_id,this.$axios.get("/Admin/Marketing_Adgroups/get",{params:t}).then(function(t){var e=t.data;0==e.code?(e.data.list||e.data.page_info)&&(a.adGroupsList=e.data.list,a.adGroupsListBackups=e.data.list,console.log("adGroupsList:",a.adGroupsList)):a.$message(e.msg)}).catch(function(t){a.$message("网络繁忙，请稍后再试！")})},getAdcreatives:function(t){var a=this;t.account_id=this.account_id,this.$axios.get("/Admin/Marketing_Adcreatives/get",{params:t}).then(function(t){var e=t.data;0==e.code?(e.data.list||e.data.page_info)&&(a.adCreativesList=e.data.list,a.adCreativesListBackups=e.data.list,console.log("adCreativesList:",a.adCreativesList)):a.$message(e.msg)}).catch(function(t){a.$message("网络繁忙，请稍后再试！")})},getAd:function(t){var a=this;this.$axios.get("/Admin/Marketing_Ads/get",{params:{ad_id:t,account_id:this.account_id}}).then(function(t){var e=t.data;if(0==e.code&&e.data.list[0]){e.data.list[0].campaign_id;a.adgroup_id=e.data.list[0].adgroup_id,a.adcreative_id=e.data.list[0].adcreative.adcreative_id,a.adGroupsParams.adgroup_id=a.adgroup_id,a.getAdGroups(a.adGroupsParams),a.getAdcreatives({adcreative_id:a.adcreative_id}),a.form.ad_id=e.data.list[0].ad_id,a.form.ad_name=e.data.list[0].ad_name,a.adNameChange(),a.form.impression_tracking_url=e.data.list[0].impression_tracking_url,a.form.click_tracking_url=e.data.list[0].click_tracking_url,a.form.feeds_interaction_enabled=e.data.list[0].feeds_interaction_enabled}}).catch(function(t){console.log(t)})}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"template-container"},[e("div",{staticClass:"template-container-title"},[t._v("新建广告")]),t._v(" "),e("el-form",{ref:"form",attrs:{model:t.form,inline:!0}},[e("div",{staticClass:"temp-item-block"},[e("div",{staticClass:"temp-item-title"},[t._v("广告组")]),t._v(" "),e("div",{staticClass:"temp-item-main"},[e("el-form-item",{attrs:{label:"所属广告组"}},[e("el-select",{attrs:{filterable:"",placeholder:"选择广告组",disabled:""},on:{change:t.adGroupChange},model:{value:t.adgroup_id,callback:function(a){t.adgroup_id=a},expression:"adgroup_id"}},t._l(t.adGroupsList,function(t){return e("el-option",{key:t.adgroup_id,attrs:{"product-type":t.product_type,label:t.adgroup_name,value:t.adgroup_id}})}))],1)],1)]),t._v(" "),e("div",{staticClass:"temp-item-block"},[e("div",{staticClass:"temp-item-title"},[t._v("创意选择")]),t._v(" "),e("div",{staticClass:"temp-item-main"},[e("el-form-item",{attrs:{label:"关联创意"}},[e("el-select",{attrs:{filterable:"",placeholder:"选择创意",disabled:""},model:{value:t.adcreative_id,callback:function(a){t.adcreative_id=a},expression:"adcreative_id"}},t._l(t.adCreativesList,function(t){return e("el-option",{key:t.adcreative_id,attrs:{"product-type":t.product_type,label:t.adcreative_name,value:t.adcreative_id}})}))],1)],1)]),t._v(" "),e("div",{staticClass:"temp-item-block"},[e("div",{staticClass:"temp-item-title"},[t._v("广告名称")]),t._v(" "),e("div",{staticClass:"temp-item-main"},[e("div",{staticClass:"temp-item-block"},[e("label",{staticClass:"temp-item-label",attrs:{for:""}},[t._v("曝光监控地址：")]),t._v(" "),e("div",{staticClass:"temp-item-inlineblock"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.impression_tracking_url,expression:"form.impression_tracking_url"}],staticClass:"temp-long-inputtext",attrs:{type:"text",value:""},domProps:{value:t.form.impression_tracking_url},on:{input:function(a){a.target.composing||t.$set(t.form,"impression_tracking_url",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"temp-item-block"},[e("label",{staticClass:"temp-item-label",attrs:{for:""}},[t._v("点击监控地址：")]),t._v(" "),e("div",{staticClass:"temp-item-inlineblock"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.click_tracking_url,expression:"form.click_tracking_url"}],staticClass:"temp-long-inputtext",attrs:{type:"text",value:""},domProps:{value:t.form.click_tracking_url},on:{input:function(a){a.target.composing||t.$set(t.form,"click_tracking_url",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"temp-item-block"},[e("label",{staticClass:"temp-item-label",attrs:{for:""}},[t._v("广告名称：")]),t._v(" "),e("div",{staticClass:"temp-item-inlineblock"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ad_name,expression:"form.ad_name"}],staticClass:"temp-long-inputtext",attrs:{type:"text",value:"",maxlength:"40"},domProps:{value:t.form.ad_name},on:{input:[function(a){a.target.composing||t.$set(t.form,"ad_name",a.target.value)},t.adNameChange]}}),t._v(" "),e("span",{staticClass:"temp-item-inlayremark"},[t._v(t._s(t.ad_name_size)+"/40")])])])])]),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary",loading:t.submitLoading},on:{click:t.onSubmit}},[t._v("确认修改")]),t._v(" "),e("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var n=e("VU/8")(i,s,!1,function(t){e("0CQ8")},"data-v-64bcd93c",null);a.default=n.exports}});
//# sourceMappingURL=18.8ec45492f20902429dd8.js.map