webpackJsonp([19],{"67/4":function(t,a){},SytD:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={created:function(){var t=this.$route.params||{};t.hasOwnProperty("campaign_id")&&(this.campaignId=t.campaign_id),this.account_id&&this.getCommonEnum()},watch:{account_id:function(){}},computed:{account_id:function(){return this.$store.getters.get_account_action.account_id}},data:function(){return{submitLoading:!1,campaignId:0,productTypeList:[],campaignTypeConfig:{},campaignTypeList:{},speedModeList:{},campaign_name_size:0,campaign_type:"",product_type:"",form:{campaign_id:"",speed_mode:"",daily_budget:"",campaign_name:""}}},mounted:function(){},methods:{campaignTypeChange:function(t){this.campaignTypeList={};var a=this.form.campaign_type;this.form.campaign_type="";for(var e in t)t[e]==a&&(this.form.campaign_type=a),this.campaignTypeList[t[e]]=this.campaignTypeConfig[t[e]]},onCancel:function(){this.$router.push("/advertising/campaign")},onSubmit:function(){var t=this.form,a=this;t.account_id=this.account_id,a.submitLoading=!0,this.$axios.get("/Admin/Marketing_Campaigns/update",{params:t}).then(function(t){var e=t.data;a.submitLoading=!1,0==e.code?(a.$message({type:"success",message:e.msg}),setTimeout(function(){a.$router.push("/advertising/campaign")},500)):a.$message.error(e.msg)}).catch(function(t){a.$message("网络繁忙，请稍后再试！"),a.submitLoading=!1,console.log(t)})},campaignNameChange:function(t){this.campaign_name_size=this.form.campaign_name.length},getCommonEnum:function(){var t=this;this.$axios.get("/Admin/Marketing_Common/getEnum",{}).then(function(a){var e=a.data;if(0==e.code){t.productTypeList=e.data.PRODUCT_TYPE;e.data.PRODUCT_TYPE_DESC;t.campaignTypeConfig=e.data.CAMPAIGN_TYPE,0==t.campaignId?t.campaignTypeList=t.campaignTypeConfig:t.getCampaign(t.campaignId),t.speedModeList=e.data.SPEED_MODE}}).catch(function(t){console.log(t)})},getCampaign:function(t){var a=this;this.$axios.get("/Admin/Marketing_Campaigns/get",{params:{campaign_id:t,account_id:this.account_id}}).then(function(t){var e=t.data;0==e.code&&e.data.list[0]&&(a.form.campaign_id=e.data.list[0].campaign_id,a.campaign_type=e.data.list[0].campaign_type,a.form.speed_mode=e.data.list[0].speed_mode,a.product_type=e.data.list[0].product_type,a.form.daily_budget=e.data.list[0].daily_budget/100,a.form.campaign_name=e.data.list[0].campaign_name,a.campaignTypeChange(a.productTypeList[a.product_type].campaign_type),a.campaignNameChange())}).catch(function(t){console.log(t)})}}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"template-container"},[e("div",{staticClass:"template-container-title"},[t._v("编辑计划")]),t._v(" "),e("el-form",{ref:"form",attrs:{model:t.form}},[e("div",{staticClass:"temp-item-block"},[e("div",{staticClass:"temp-item-title"},[t._v("推广目标")]),t._v(" "),e("div",{staticClass:"temp-item-main"},[e("el-radio-group",{staticClass:"temp-radio-group",attrs:{disabled:""},model:{value:t.product_type,callback:function(a){t.product_type=a},expression:"product_type"}},t._l(t.productTypeList,function(a,i){return e("div",{staticClass:"temp-radio-item"},[e("el-radio",{attrs:{label:i},on:{change:function(e){t.campaignTypeChange(a.campaign_type)}}},[t._v(t._s(a.name))]),t._v(" "),e("span",{staticClass:"temp-radio-remark"},[t._v(t._s(a.desc))])],1)}))],1)]),t._v(" "),e("div",{staticClass:"temp-item-block"},[e("div",{staticClass:"temp-item-title"},[t._v("计划设置")]),t._v(" "),e("div",{staticClass:"temp-item-main"},[e("div",{staticClass:"temp-item-block"},[e("label",{staticClass:"temp-item-label",attrs:{for:""}},[t._v("计划类型：")]),t._v(" "),e("el-radio-group",{attrs:{disabled:""},model:{value:t.campaign_type,callback:function(a){t.campaign_type=a},expression:"campaign_type"}},t._l(t.campaignTypeList,function(a,i,n){return e("el-radio",{key:i,attrs:{label:i}},[t._v(t._s(a.name))])}))],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"CAMPAIGN_TYPE_WECHAT_MOMENTS"!=t.campaign_type,expression:'campaign_type!="CAMPAIGN_TYPE_WECHAT_MOMENTS"'}],staticClass:"temp-item-block"},[e("label",{staticClass:"temp-item-label",attrs:{for:""}},[t._v("日限额：")]),t._v(" "),e("div",{staticClass:"temp-item-inlineblock"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.daily_budget,expression:"form.daily_budget"}],staticClass:"temp-item-inputtext",attrs:{type:"text",value:""},domProps:{value:t.form.daily_budget},on:{input:function(a){a.target.composing||t.$set(t.form,"daily_budget",a.target.value)}}}),t._v(" "),e("span",{staticClass:"temp-item-remark"},[t._v("元/天")])])]),t._v(" "),e("div",{staticClass:"temp-item-block"},[e("label",{staticClass:"temp-item-label",attrs:{for:""}},[t._v("投放速度：")]),t._v(" "),e("el-radio-group",{model:{value:t.form.speed_mode,callback:function(a){t.$set(t.form,"speed_mode",a)},expression:"form.speed_mode"}},t._l(t.speedModeList,function(a,i,n){return e("div",{staticClass:"radio-inlineblock"},[e("el-radio",{attrs:{label:i}},[t._v(t._s(a))])],1)}))],1),t._v(" "),e("div",{staticClass:"temp-item-block"},[e("label",{staticClass:"temp-item-label",attrs:{for:""}},[t._v("计划名称：")]),t._v(" "),e("div",{staticClass:"temp-item-inlineblock"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.campaign_name,expression:"form.campaign_name"}],staticClass:"temp-long-inputtext",attrs:{type:"text",value:"",maxlength:"40"},domProps:{value:t.form.campaign_name},on:{input:[function(a){a.target.composing||t.$set(t.form,"campaign_name",a.target.value)},t.campaignNameChange]}}),t._v(" "),e("span",{staticClass:"temp-item-inlayremark"},[t._v(t._s(t.campaign_name_size)+"/40")])])])])]),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary",loading:t.submitLoading},on:{click:t.onSubmit}},[t._v("确认修改")]),t._v(" "),e("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var s=e("VU/8")(i,n,!1,function(t){e("67/4")},"data-v-62c7157d",null);a.default=s.exports}});
//# sourceMappingURL=19.171352bd30c1f8853c2e.js.map