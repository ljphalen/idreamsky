webpackJsonp([3],{"416H":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},items:["ryan.wu1","ryan.wu2","ryan.wu3"]}},methods:{onSubmit:function(){console.log("submit!")},handleClick:function(){console.log("button click")}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"template-container"},[a("div",{staticClass:"temp-item-block"},[a("div",{staticClass:"temp-item-title"},[t._v("预警规则")]),t._v(" "),a("div",{staticClass:"temp-item-main"},[t._m(0),t._v(" "),a("div",{staticClass:"temp-item-block"},[a("label",{staticClass:"temp-item-label",attrs:{for:""}},[t._v("预警指标：")]),t._v(" "),a("div",{staticClass:"temp-item-labelmain"},[a("el-checkbox",{attrs:{label:"点击率",name:"type"}}),t._v("\n          消耗高于"),a("input",{attrs:{type:"text",value:""}}),t._v("元\n          "),a("br"),t._v(" "),a("el-checkbox",{attrs:{label:"点击率",name:"type"}}),t._v("\n          消耗高于"),a("input",{attrs:{type:"text",value:""}}),t._v("元\n          "),a("br"),t._v(" "),a("el-checkbox",{attrs:{label:"点击率",name:"type"}}),t._v("\n          消耗高于"),a("input",{attrs:{type:"text",value:""}}),t._v("元\n        ")],1)]),t._v(" "),a("div",{staticClass:"temp-item-block"},[a("label",[t._v("预警方式：")]),t._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-checkbox-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-checkbox",{attrs:{label:"微信",name:"msg"}}),t._v(" "),a("el-checkbox",{attrs:{label:"短信",name:"msg"}}),t._v(" "),a("el-checkbox",{attrs:{label:"邮件",name:"msg"}})],1)],1)]),t._v(" "),a("div",{staticClass:"temp-item-block"},[a("label",[t._v("预警人：")]),t._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[t._m(1),t._v(" "),a("el-dropdown",{attrs:{"split-button":"",type:"primary"},on:{click:t.handleClick}},[t._v("\n            添加\n            "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.items,function(e){return a("el-dropdown-item",{key:e},[t._v(t._s(e)+" ")])}))],1)],1)])])]),t._v(" "),a("div",{staticClass:"temp-item-block"},[a("div",{staticClass:"temp-item-title"},[t._v("预警人员")]),t._v(" "),a("div",{staticClass:"temp-item-main"},[a("div",{staticClass:"temp-item-inlineblock temp-item-left"},[a("el-button",{attrs:{type:"primary"}},[t._v("新建计划")])],1)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"temp-item-block"},[a("label",{staticClass:"temp-item-label",attrs:{for:""}},[t._v("预警条件：")]),t._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[t._v("\n          消耗高于"),a("input",{attrs:{type:"text",value:""}}),t._v("元\n        ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"user-list"},[a("li",[t._v("ryan.wu")]),t._v(" "),a("li",[t._v("yilina.li")])])}]};var s=a("VU/8")(i,n,!1,function(t){a("ymKq")},"data-v-0473c970",null);e.default=s.exports},"8v8t":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={created:function(){this.getAd_Campaigns(this.adCampaignsGet),this.getAdCommongetEnum()},data:function(){return{dialogVisible:!1,dialogVisibleText:"",adCampaignsGet:{page:1,page_size:10,campaign_id:"",configured_status:"",campaign_name:"",start_date:"",end_date:""},loading:!0,pickerDate:"",pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},configured_status:[],configured_status_default:"",listData:[],page_info:{page:1,page_size:10,total_number:0,total_page:0}}},computed:{},mounted:function(){},methods:{unitConversion:function(t,e){return t.daily_budget/100},exportExcel:function(){var t=this.adCampaignsGet;window.location.href="/Admin/Marketing_Campaigns/export?page="+t.page+"&page_size="+t.page_size+"&campaign_id="+t.campaign_id+"&configured_status="+t.configured_status+"&campaign_name="+t.campaign_name+"&start_date="+t.start_date+"&end_date="+t.end_date},getAdCommongetEnum:function(){var t=this;this.$axios.get("/Admin/Marketing_Common/getEnum",{}).then(function(e){var a=e.data;if(0==a.code){var i=a.data.AD_STATUS;t.configured_status.push({value:"",label:"所有状态"});for(var n in i){var s=new Object;s.value=n,s.label=i[n],t.configured_status.push(s)}}}).catch(function(t){console.log(t)})},changeConfiguredStatus:function(t){this.adCampaignsGet.configured_status=t},changeCampaign_name:function(t){this.adCampaignsGet.campaign_name=t},pickerDateChange:function(){var t=new Date(this.pickerDate[0]),e=new Date(this.pickerDate[1]);this.adCampaignsGet.start_date=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),this.adCampaignsGet.end_date=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},handleListStatusChange:function(t){var e=t.configured_status;"AD_STATUS_NORMAL"===t.configured_status?t.configured_status="AD_STATUS_SUSPEND":t.configured_status="AD_STATUS_NORMAL";var a=this;this.$axios.get("/Admin/Marketing_Campaigns/update",{params:{campaign_id:t.campaign_id,configured_status:t.configured_status}}).then(function(i){var n=i.data;0!=n.code&&(a.$message.error(n.msg),t.configured_status=e)}).catch(function(i){a.$message("网络繁忙，请稍后再试！"),t.configured_status=e})},handleSizeChange:function(t){this.adCampaignsGet.page_size=t,this.getAd_Campaigns(this.adCampaignsGet)},handleCurrentChange:function(t){this.adCampaignsGet.page=t,this.getAd_Campaigns(this.adCampaignsGet)},getList:function(){this.getAd_Campaigns(this.adCampaignsGet)},getAd_Campaigns:function(t){var e=this;this.$axios.get("/Admin/Marketing_Campaigns/get",{params:t}).then(function(t){e.loading=!1;var a=t.data;0==a.code?(a.data.list||a.data.page_info)&&(e.listData=a.data.list,e.page_info=a.data.page_info):e.$message(a.msg)}).catch(function(t){e.$message("网络繁忙，请稍后再试！"),e.loading=!1})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"template-container"},[a("div",{staticClass:"template-item-wrap"},[a("div",{staticClass:"temp-item-inlineblock"},[a("el-date-picker",{attrs:{type:"daterange",align:"left","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions2},on:{change:t.pickerDateChange},model:{value:t.pickerDate,callback:function(e){t.pickerDate=e},expression:"pickerDate"}})],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:t.changeConfiguredStatus},model:{value:t.configured_status_default,callback:function(e){t.configured_status_default=e},expression:"configured_status_default"}},t._l(t.configured_status,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-input",{attrs:{placeholder:"请输入计划名查询"},on:{change:t.changeCampaign_name}})],1),t._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-button",{attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-button",{attrs:{type:"primary"},on:{click:t.exportExcel}},[t._v("导出为excel")])],1),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"table-wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.listData,"default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{prop:"campaign_id",label:"ID",width:"60px",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"campaign_name",label:"计划名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"impression",label:"曝光量",width:"100px",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"click",label:"点击量",width:"100px",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"click_rate",label:"点击率",width:"90px",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"cost_per_click",label:"CPC",width:"90px",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"cost",label:"价格",width:"90px",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"campaign_type_name",label:"计划类型",width:"120px",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"daily_budget",label:"日限额(元)",width:"90px",formatter:t.unitConversion}}),t._v(" "),a("el-table-column",{attrs:{prop:"budget_reach_date",label:"日限额到达日期",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_time",label:"创建时间",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"last_modified_time",label:"修改时间",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"speed_mode_name",label:"速度模式",width:"100px",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"product_type_name",label:"标的物类型",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"configured_status",label:"监控",width:"60px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#999"},on:{change:function(a){t.handleListStatusChange(e.row)}},model:{value:"AD_STATUS_NORMAL"===e.row.configured_status,callback:function(a){t.$set(e.row,"configured_status === 'AD_STATUS_NORMAL' ? true : false",a)},expression:"scope.row.configured_status === 'AD_STATUS_NORMAL' ? true : false"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"configured_status",label:"状态",width:"60px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#999"},on:{change:function(a){t.handleListStatusChange(e.row)}},model:{value:"AD_STATUS_NORMAL"===e.row.configured_status,callback:function(a){t.$set(e.row,"configured_status === 'AD_STATUS_NORMAL' ? true : false",a)},expression:"scope.row.configured_status === 'AD_STATUS_NORMAL' ? true : false"}})]}}])})],1),t._v(" "),t.page_info.total_number>0?a("div",{staticClass:"table-pagination"},[a("el-pagination",{attrs:{background:"","current-page":t.page_info.page,"page-sizes":[10,20,30,40],"page-size":t.page_info.total_page,layout:"total, sizes, prev, pager, next, jumper",total:t.page_info.total_number},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"temp-item-inlineblock"},[e("div",[this._v("自定义指标")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"temp-item-inlineblock temp-item-right"},[e("a",{staticClass:"new-plan",attrs:{href:"/#/advertising/campaign/new"}},[this._v("新建计划")])])}]};var s=a("VU/8")(i,n,!1,function(t){a("R0rI")},"data-v-3ae39dd3",null);e.default=s.exports},R0rI:function(t,e){},ymKq:function(t,e){}});
//# sourceMappingURL=3.71a338b45a197cbecb43.js.map