webpackJsonp([6],{"5sxQ":function(t,e){},D7YB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={created:function(){this.getEnumList(),this.account_id&&this.getList(this.productParams)},watch:{account_id:function(){this.getList(this.productParams)}},computed:{account_id:function(){return this.$store.getters.get_account_action.account_id}},data:function(){return{productParams:{product_type:"",product_name:"",account_id:"",product_refs_id:"",page:1,page_size:10},tableData:[],page_info:{},PRODUCT_REFS_TYPE_list:[],product_refs_type_list:{},loading:!1}},methods:{newProduct:function(){this.$router.push("/setting/product/new")},handleSizeChange:function(t){this.productParams.page_size=t,this.getList(this.productParams)},handleCurrentChange:function(t){this.productParams.page=t,this.getList(this.productParams)},searchList:function(){this.productParams.page=1,this.productParams.page_size=10,this.getList(this.productParams)},setProduct_type:function(t,e){return this.product_refs_type_list[t.product_type].name},getList:function(t){console.log(t),this.loading=!0,t.account_id=this.account_id;var e=this;this.$axios.get("/Admin/Marketing_Products/getList",{params:t}).then(function(t){e.loading=!1;var a=t.data;0==a.code?(e.page_info=a.data.page_info,e.tableData=a.data.list):e.$message(a.msg)}).catch(function(t){e.loading=!1,e.$message("网络繁忙，请稍后再试！"),console.log(t)})},getEnumList:function(){var t=this;this.$axios.get("/Admin/Marketing_Common/getEnum",{}).then(function(e){var a=e.data;if(0==a.code){var i=a.data.PRODUCT_REFS_TYPE;t.product_refs_type_list=i,t.PRODUCT_REFS_TYPE_list.push({value:"",label:"所有平台"});for(var s in i){var r=new Object;r.value=s,r.label=i[s].name,t.PRODUCT_REFS_TYPE_list.push(r)}}}).catch(function(t){console.log(t)})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"template-container"},[a("div",{staticClass:"template-item-wrap"},[a("div",{staticClass:"temp-item-inlineblock"},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.productParams.product_type,callback:function(e){t.$set(t.productParams,"product_type",e)},expression:"productParams.product_type"}},t._l(t.PRODUCT_REFS_TYPE_list,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-input",{attrs:{clearable:"",placeholder:"标的物名称"},model:{value:t.productParams.product_name,callback:function(e){t.$set(t.productParams,"product_name",e)},expression:"productParams.product_name"}})],1),t._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-input",{attrs:{clearable:"",placeholder:"标的物id"},model:{value:t.productParams.product_refs_id,callback:function(e){t.$set(t.productParams,"product_refs_id",e)},expression:"productParams.product_refs_id"}})],1),t._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-button",{attrs:{type:"primary"},on:{click:t.searchList}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"temp-item-inlineblock temp-item-right"},[a("el-button",{attrs:{type:"primary"},on:{click:t.newProduct}},[t._v("新建标的物")])],1)]),t._v(" "),a("div",{staticClass:"table-wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{prop:"product_name",label:"标的物名称",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"product_refs_id",label:"标的物ID",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"product_type",label:"标的物类型",sortable:"",formatter:t.setProduct_type}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",sortable:""}})],1),t._v(" "),t.page_info.total_number>0?a("div",{staticClass:"table-pagination"},[a("el-pagination",{attrs:{background:"","current-page":t.page_info.page,"page-sizes":[10,20,30,40],"page-size":t.page_info.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.page_info.total_number},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1)])},staticRenderFns:[]};var r=a("VU/8")(i,s,!1,function(t){a("5sxQ")},"data-v-5c99a1bf",null);e.default=r.exports}});
//# sourceMappingURL=6.2402f7549f3901e79973.js.map