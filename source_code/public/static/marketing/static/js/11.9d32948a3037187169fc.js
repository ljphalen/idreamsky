webpackJsonp([11],{NNu1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={created:function(){this.account_id&&this.getAdcreatives(this.searchParams),this.getCommonEnum()},watch:{account_id:function(){this.getAdcreatives(this.searchParams)}},computed:{account_id:function(){return this.$store.getters.get_account_action.account_id}},data:function(){return{multipleSelection:[],loading:!1,adcreativesList:[],productTypeList:[{value:"",name:"标的物类型"}],searchParams:{adcreative_id:"",adcreative_name:"",product_type:"",page:1,page_size:10,start_date:"",end_date:"",show_image:1},page_info:{page:1,page_size:10,total_number:1,total_page:1},pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},value6:"",value7:"",tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"}]}},methods:{handleSelectionChange:function(e){this.multipleSelection=e},handleListRemove:function(){var e=this,t=this.multipleSelection,a=[];if(t&&t.length>0){for(var i in t)a.push(t[i].adcreative_id);this.$confirm("是否确认批量删除记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={ids:a};e.handleListRemoveRequest(t)}).catch(function(){})}else e.$message("请选择需要删除的记录")},handleListRemoveRequest:function(e){var t=this;e.account_id=this.account_id,this.$axios.get("/Admin/Marketing_Adcreatives/batchDelete",{params:e}).then(function(e){var a=e.data;t.$message({type:"success",message:a.msg}),0==a.code&&setTimeout(function(){t.getAdcreatives(t.searchParams)},500)}).catch(function(e){t.$message("网络繁忙，请稍后再试！")})},handleEditClick:function(e){this.$router.push("/advertising/adCreative/edit/"+e)},handleSizeChange:function(e){this.searchParams.page_size=e,this.getAdcreatives(this.searchParams)},handleCurrentChange:function(e){this.searchParams.page=e,this.getAdcreatives(this.searchParams)},newAdCreative:function(){this.$router.push("/advertising/adCreative/new")},getList:function(){this.getAdcreatives(this.searchParams)},getAdcreatives:function(e){var t=this;t.loading=!0,e.account_id=this.account_id,this.$axios.get("/Admin/Marketing_Adcreatives/get",{params:e}).then(function(e){t.loading=!1;var a=e.data;0==a.code?(a.data.list||a.data.page_info)&&(t.adcreativesList=a.data.list,t.page_info=a.data.page_info):t.$message(a.msg)}).catch(function(e){t.$message("网络繁忙，请稍后再试！"),t.loading=!1})},getCommonEnum:function(){var e=this;this.$axios.get("/Admin/Marketing_Common/getEnum",{}).then(function(t){var a=t.data;if(0==a.code){var i=a.data.PRODUCT_TYPE;for(var n in i){var s=new Object;s.value=n,s.name=i[n].name,e.productTypeList.push(s)}}}).catch(function(e){console.log(e)})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template-container"},[a("div",{staticClass:"template-item-wrap"},[a("div",{staticClass:"temp-item-inlineblock"},[a("el-select",{attrs:{placeholder:"标的物类型"},model:{value:e.searchParams.product_type,callback:function(t){e.$set(e.searchParams,"product_type",t)},expression:"searchParams.product_type"}},e._l(e.productTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-input",{attrs:{placeholder:"创意 ID"},model:{value:e.searchParams.adcreative_id,callback:function(t){e.$set(e.searchParams,"adcreative_id",t)},expression:"searchParams.adcreative_id"}})],1),e._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-input",{attrs:{placeholder:"创意名称"},model:{value:e.searchParams.adcreative_name,callback:function(t){e.$set(e.searchParams,"adcreative_name",t)},expression:"searchParams.adcreative_name"}})],1),e._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-button",{attrs:{type:"primary"},on:{click:e.getList}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"temp-item-inlineblock temp-item-right"},[a("el-button",{attrs:{type:"primary"},on:{click:e.newAdCreative}},[e._v("新建广告创意")])],1),e._v(" "),a("div",{staticClass:"temp-item-block"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleListRemove}},[e._v("批量删除")])],1)]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table-wrap"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"show-overflow-tooltip":"",data:e.adcreativesList,"default-sort":{prop:"date",order:"descending"}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"adcreative_id",label:"ID",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"adcreative_name",label:"创意名称",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"campaign_id",label:"推广计划"}}),e._v(" "),a("el-table-column",{attrs:{prop:"product_type_name",label:"标的物类型"}}),e._v(" "),a("el-table-column",{key:"adcreative_elements",attrs:{label:"预览图"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",{staticClass:"show-tuwen"},[a("img",{staticStyle:{"max-height":"200px",height:"auto",width:"100%"},attrs:{src:e.row.adcreative_elements.image_url}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"destination_url",label:"落地页"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleEditClick(t.row.adcreative_id)}}},[e._v("编辑")])]}}])})],1),e._v(" "),e.page_info.total_number>0?a("div",{staticClass:"table-pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.page_info.page,"page-sizes":[10,20,30,40],"page-size":e.page_info.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.page_info.total_number},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)])},staticRenderFns:[]};var s=a("VU/8")(i,n,!1,function(e){a("YkHK")},"data-v-fa8f88d2",null);t.default=s.exports},YkHK:function(e,t){}});
//# sourceMappingURL=11.9d32948a3037187169fc.js.map