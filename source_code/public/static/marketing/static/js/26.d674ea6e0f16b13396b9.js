webpackJsonp([26],{QIt3:function(e,t){},ZKho:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={created:function(){this.account_id&&this.getList()},watch:{account_id:function(){this.getList()}},computed:{account_id:function(){return this.$store.getters.get_account_action.account_id}},data:function(){return{loading:!1,selectLoading:!1,name_size:0,description_size:0,form:{type:"LOOKALIKE",seed_audience_id:"",expand_user_count:0,name:"",description:""},audienceList:[{label:"",disabled:!1,options:[]},{label:"以下人群暂不支持智能拓展",disabled:!0,options:[]}]}},methods:{onCancel:function(){this.$router.push("/setting/audience")},audienceNameChange:function(e){this.name_size=this.form.name.length},onSubmit:function(){if(""==this.form.seed_audience_id)return this.$message.error("请选择拓展的种子人群"),!1;if(0==this.form.expand_user_count)return this.$message.error("请选择拓展的量级"),!1;if(""==this.form.name)return this.$message.error("人群名称不能为空"),!1;var e=this.form,t=this;t.loading=!0,e.account_id=this.account_id,this.$axios.get("/Admin/Marketing_CustomAudiences/add",{params:e}).then(function(e){t.loading=!1;var i=e.data;0==i.code?(t.$message({type:"success",message:i.msg}),setTimeout(function(){t.$router.push("/setting/audience")},500)):t.$message.error(i.msg)}).catch(function(e){t.$message("网络繁忙，请稍后再试！"),console.log(e)})},getList:function(){this.selectLoading=!0;var e={};e.account_id=this.account_id;var t=this;this.$axios.get("/Admin/Marketing_CustomAudiences/get",{params:e}).then(function(e){t.selectLoading=!1;var i=e.data;0==i.code?t.formatAudienceList(i.data):t.$message(i.msg)}).catch(function(e){t.selectLoading=!1,t.$message("网络繁忙，请稍后再试！"),console.log(e)})},formatAudienceList:function(e){var t=this;this.audienceList[0].options=[],this.audienceList[1].options=[],e.forEach(function(e,i){"LOOKALIKE"==e.type?t.audienceList[1].options.push({value:e.id,label:e.label,notice:"拓展人群不能进行拓展"}):e.user_count<2e3?t.audienceList[1].options.push({value:e.id,label:e.label,notice:"不符合2k-3kw人数要求"}):"SUCCESS"!=e.status?t.audienceList[1].options.push({value:e.id,label:e.label,notice:"不是正常可用人群"}):(e.user_count=(e.user_count+"").replace(/(?=(?!(\b))(\d{3})+$)/g,",")+"人",t.audienceList[0].options.push({value:e.id,label:e.label,notice:e.user_count}))})}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"template-container"},[i("div",{staticClass:"template-container-title"},[e._v("创建人群-智能拓展")]),e._v(" "),i("el-form",{ref:"form",attrs:{model:e.form}},[i("div",{staticClass:"temp-item-block"},[i("div",{staticClass:"temp-item-title"},[e._v("1.选择拓展的种子人群")]),e._v(" "),i("div",{staticClass:"temp-item-main"},[i("el-select",{attrs:{loading:e.selectLoading,placeholder:"请选择"},model:{value:e.form.seed_audience_id,callback:function(t){e.$set(e.form,"seed_audience_id",t)},expression:"form.seed_audience_id"}},e._l(e.audienceList,function(t){return i("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,function(a){return i("el-option",{key:a.value,attrs:{label:a.label,value:a.value,disabled:t.disabled}},[i("span",{staticStyle:{float:"left"}},[e._v(e._s(a.label))]),e._v(" "),i("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(a.notice))])])}))}))],1)]),e._v(" "),i("div",{staticClass:"temp-item-block"},[i("div",{staticClass:"temp-item-title"},[e._v("2.选择拓展的量级")]),e._v(" "),i("div",{staticClass:"temp-item-main"},[i("div",{staticClass:"temp-item-block",staticStyle:{width:"1600px"}},[i("div",{staticClass:"block"},[i("br"),e._v(" "),i("span",{staticClass:"demonstration"},[e._v("拓展量级只支持50W的倍数(单位：万人)")]),e._v(" "),i("el-slider",{attrs:{step:50,max:5e3},model:{value:e.form.expand_user_count,callback:function(t){e.$set(e.form,"expand_user_count",t)},expression:"form.expand_user_count"}})],1),e._v(" "),i("span",[e._v("0")]),e._v(" "),i("span",{staticStyle:{display:"block",float:"right"}},[e._v("5000W")])]),e._v(" "),i("div",{staticClass:"temp-item-block"},[i("label",{staticClass:"temp-item-label",attrs:{for:""}},[e._v("人群名称：")]),e._v(" "),i("div",{staticClass:"temp-item-inlineblock"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"temp-long-inputtext",attrs:{type:"text",maxlength:"32"},domProps:{value:e.form.name},on:{input:[function(t){t.target.composing||e.$set(e.form,"name",t.target.value)},e.audienceNameChange]}}),e._v(" "),i("span",{staticClass:"temp-item-inlayremark"},[e._v(e._s(e.name_size)+"/32")])])]),e._v(" "),i("div",{staticClass:"temp-item-block"},[i("label",{staticClass:"temp-item-label",attrs:{for:""}},[e._v("人群描述：")]),e._v(" "),i("div",{staticClass:"temp-item-inlineblock"},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"（选填）"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)])])]),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("完成")]),e._v(" "),i("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var n=i("VU/8")(a,s,!1,function(e){i("QIt3")},null,null);t.default=n.exports}});
//# sourceMappingURL=26.d674ea6e0f16b13396b9.js.map