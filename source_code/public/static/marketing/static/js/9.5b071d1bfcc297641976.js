webpackJsonp([9],{KwPW:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("mvHQ"),s=i.n(a),r=i("pFYg"),n=i.n(r),l={created:function(){var e,t=new RegExp("(^| )PHPSESSID=([^;]*)(;|$)");(e=document.cookie.match(t))&&(this.uploadHeaders={"VUE-SESSID":unescape(e[2])}),(this.$route.params||{}).hasOwnProperty("id"),this.account_id&&this.getAdCampaigns(this.adCampaignsParams),this.getAdCommongetEnum()},watch:{account_id:function(){this.getAdCampaigns(this.adCampaignsParams)}},computed:{element_type_filter:function(){var e=[],t={};return this.adcreativeList.forEach(function(i){t.hasOwnProperty(i.adcreative_template_style)||(t[i.adcreative_template_style]=i.adcreative_template_style,e.push({text:i.adcreative_template_style,value:i.adcreative_template_style}))}),e},account_id:function(){return this.$store.getters.get_account_action.account_id}},data:function(){return{element_type_list:{},submitLoading:!1,loadingCampaign:!1,loading:!1,productList:[],productTypeList:[],productShow:!1,destinationUrlShow:!1,uploadlimit:1,upadlodData:{account_id:10},uploadHeaders:{},uploadList:[{previewImgUrl:"",fileList:[{name:"",url:""}]}],ADCREATIVE_STYLE_list:{},adcreativeList:[],activeAdcreativeList:!1,Adcreativeinfo:{product_type:"",site_set:""},adCampaignsList:[],site_setList:{},form:{campaign_id:"",product_refs_id:"",product_type:"",destination_url:"",site_set:"",adcreative_template_id:"",adcreative_elements:[]},adCampaignsParams:{page:1,page_size:100,campaign_id:"",configured_status:"",campaign_name:"",start_date:"",end_date:""},adcreativeTemplateInfo_row:{adcreative_sample_image:{}},tableDropdown:"下拉菜单",tabActiveName:"0",tabActiveList:[],tabList:[{label:"创意1",name:"0",adcreative_name:"",elementsData:{imageList:[],textList:[],videoList:[],urlList:[],enumList:[],canvasList:[],referenceList:[]}},{label:"+ 添加",name:"add",adcreative_name:"",elementsData:{imageList:[],textList:[],videoList:[],urlList:[],enumList:[],canvasList:[],referenceList:[]}}]}},methods:{filterHandler:function(e,t){return t.adcreative_template_style===e},remoteCampaign:function(e){var t=this;this.loadingCampaign=!0,setTimeout(function(){t.adCampaignsParams.campaign_name=e,t.getAdCampaigns(t.adCampaignsParams)},300)},newCampaign:function(){this.$router.push("/advertising/Campaign/new")},uploadFileLiclick:function(e,t){this.tabActiveList={index:e,type:t}},uploadfileChange:function(e,t,i,a,s,r){var n,l,o,c,d=this,m=(e.target||e.currentTarget).files[0],_={};if(_=s?d.tabList[i].elementsData.structList[t].children[r][s]:"image"==a?d.tabList[i].elementsData.imageList[t]:d.tabList[i].elementsData.videoList[t],"image"==a){var p=_.restriction;n=p.image_restriction.height,l=p.image_restriction.width,o=p.image_restriction.file_size,c=p.image_restriction.file_format}else if("video"==a){p=_.restriction;n=p.video_restriction.min_height||p.video_restriction.height,l=p.video_restriction.min_width||p.video_restriction.width,o=p.video_restriction.file_size,c=p.video_restriction.file_format}if(!m)return!1;if(m.size/1024>o)return this.$message("上传文件不能超过"+o+"kb"),!1;if(!this.formatCheck(c,m.type,a))return this.$message("上传文件格式不正确"),!1;if("image"==a)(u=new FileReader).onload=function(e){var o=e.target.result,c=new Image;c.onload=function(){var e=c.width,o=c.height;l==e&&n==o?d.uploadFileAction(m,t,i,a,s,r):d.$message("上传文件尺寸不正确")},c.src=o},u.readAsDataURL(m);else if("video"==a){var u=new FileReader;m.type;u.onload=function(e){var o=e.target.result,c=document.createElement("video");document.body.appendChild(c),c.addEventListener("loadedmetadata",function(e){c.videoWidth==l&&c.videoHeight==n?d.uploadFileAction(m,t,i,a,s,r):d.$message("上传文件尺寸不正确"),c.remove()}),c.setAttribute("src",o)},u.readAsDataURL(m)}},uploadFileAction:function(e,t,i,a,s,r){var n,l=this,o="";n=s?l.tabList[i].elementsData.structList[t].children[r][s]:"image"==a?l.tabList[i].elementsData.imageList[t]:l.tabList[i].elementsData.videoList[t],"image"==a?o="/Admin/Marketing_Images/add":"video"==a&&(o="/Admin/Marketing_Videos/add");var c=new FormData;c.append("account_id",l.account_id),c.append("file",e),"video"==a&&c.append("description",e);var d=new XMLHttpRequest;d.upload.addEventListener("progress",function(e){e.lengthComputable?(n.progressbar.percentage=60,Math.round(100*e.loaded/e.total),n.progressbar.status="success"):complete&&(n.progressbar.status="success")},!1),d.addEventListener("load",function(e){},!1),d.addEventListener("error",function(e){n.progressbar.status="exception",console.log(e)},!1),d.addEventListener("abort",function(){console.log(evt)},!1),d.open("POST",o),d.setRequestHeader("VUE-SESSID",this.uploadHeaders["VUE-SESSID"]),d.send(c),d.onreadystatechange=function(){if(4==d.readyState)if(200==d.status){var e=JSON.parse(d.response);0==e.code?(n.progressbar.percentage=100,n.progressbar.status="success",n.preview_url=e.data.preview_url,n.itemvalue="video"==a?e.data.video_id:e.data.image_id):(l.$message(e.msg),n.progressbar.status="exception")}else n.progressbar.status="exception"}},uploadImgchange:function(e,t){},beforeUpload:function(e){var t=this,i=parseInt(this.tabActiveName);if(this.tabActiveList&&"image"==this.tabActiveList.type){var a=this.tabList[i].elementsData.imageList[this.tabActiveList.index].restriction,s=a.image_restriction.file_size,r=a.image_restriction.file_format,n=a.image_restriction.height,l=a.image_restriction.width;if(e.size/1024>s)return this.$message("上传文件不能超过"+s+"kb"),!1;if(!this.formatCheck(r,e.type))return this.$message("上传文件格式不正确"),!1;var o=new FileReader;return o.onload=function(e){var i=e.target.result,a=new Image;a.onload=function(){var e=a.width,i=a.height;return l==e&&n==i||(t.$message("上传文件尺寸不正确"),!1)},a.src=i},o.readAsDataURL(e),!0}},formatCheck:function(e,t,i){var a="";for(var s in e)if("image"==i){a=a+("jpg"==this.imageTypeClassify(e[s])?"jpg|jpeg":this.imageTypeClassify(e[s]))+"|"}else a=a+this.videoTypeClassify(e[s])+"|";return a=a.substring(0,a.length-1),new RegExp("/("+a+")$").test(t)},uploadFile:function(e){console.log("服务器回调事件:",e),console.log("file.response",e.response)},cloneObj:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=e.constructor===Array?[]:{};if("object"===(void 0===e?"undefined":n()(e))){if(window.JSON){var i=s()(e);t=JSON.parse(i)}else for(var a in e)t[a]="object"===n()(e[a])?cloneObj(e[a]):e[a];return t}}),handleTbaClick:function(e,t){if("add"==e.name&&this.activeAdcreativeList){var i=this.cloneObj(this.tabList[e.index].elementsData);this.tabList.splice(e.index,0,{label:"创意"+(parseInt(e.index)+1),name:e.index,adcreative_name:"",elementsData:i}),this.tabActiveName=e.index}else"add"==e.name&&(this.$message("请选择创意规格"),this.tabActiveName="0")},formatterCrtstyle:function(e,t,i){return e.adcreative_template_size+e.adcreative_template_style},handleCurrentChange:function(e,t){var i=this;this.adcreativeTemplateInfo_row={adcreative_sample_image:{}},e?(this.form.adcreative_template_id=e.adcreative_template_id,this.adcreativeTemplateInfo_row=e,this.activeAdcreativeList?this.$confirm("更改创意规格将会清空已上传创意，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.defaultCreativity(),i.uploadElementFiltrate()}).catch(function(){i.defaultCreativity()}):(this.activeAdcreativeList=!0,this.uploadElementFiltrate())):(this.activeAdcreativeList=!1,this.defaultCreativity())},defaultCreativity:function(){this.tabActiveName="0",this.tabList=[{label:"创意1",name:"0",adcreative_name:"",elementsData:{imageList:[],textList:[],videoList:[],urlList:[],enumList:[],canvasList:[],referenceList:[]}},{label:"+ 添加",name:"add",adcreative_name:"",elementsData:{imageList:[],textList:[],videoList:[],urlList:[],enumList:[],canvasList:[],referenceList:[]}}]},imageTypeClassify:function(e){var t="";return"IMAGE_TYPE_GIF"==e?t="gif":"IMAGE_TYPE_JPG"==e?t="jpg":"IMAGE_TYPE_PNG"==e?t="png":"IMAGE_TYPE_SWF"==e&&(t="swf"),t},videoTypeClassify:function(e){var t="";return"MEDIA_TYPE_MP4"==e?t="mp4":"MEDIA_TYPE_AVI"==e?t="avi":"MEDIA_TYPE_MOV"==e?t="mov":"MEDIA_TYPE_FLV"==e&&(t="flv"),t},uploadElementFiltrate:function(){var e=this.adcreativeTemplateInfo_row,t=this.cloneObj(e.adcreative_elements),i={imageList:[],textList:[],videoList:[],urlList:[],enumList:[],canvasList:[],structList:[],referenceList:[]},a=[];for(var s in t){if("ELEMENT_TYPE_STRUCT"==(d=t[s]).element_type){var r={},n=new Object;n.element_type="ELEMENT_TYPE_STRUCT",n.parent=d,n.name=d.name,n.children=[];for(var l in t)t[l].parent_name==d.name&&(r[t[l].name]=t[l]);if(d.array_property&&d.array_property.max_number){var o=d.array_property.max_number;for(s=0;s<o;s++)n.children.push(r)}else n.children.push(r);a.push(n)}else""==d.parent_name&&a.push(d)}for(var c in a){var d;if("ELEMENT_TYPE_STRUCT"!=(d={}).element_type&&(d=this.dataClassify(a[c])),"ELEMENT_TYPE_IMAGE"==d.element_type)i.imageList.push(d);else if("ELEMENT_TYPE_TEXT"==d.element_type)i.textList.push(d);else if("ELEMENT_TYPE_VIDEO"==d.element_type)i.videoList.push(d);else if("ELEMENT_TYPE_URL"==d.element_type)i.urlList.push(d);else if("ELEMENT_TYPE_ENUM"==d.element_type)i.enumList.push(d);else if("ELEMENT_TYPE_CANVAS"==d.element_type)i.canvasList.push(d);else if("ELEMENT_TYPE_REFERENCE"==d.element_type)i.referenceList.push(d);else if("ELEMENT_TYPE_STRUCT"==d.element_type){r=a[c].children;var m=[];for(var s in r){var _={};for(var p in r[s])_[p]=this.dataClassify(r[s][p]);m.push(_)}var u={parent:this.cloneObj(a[c].parent),children:m};i.structList.push(u)}}this.tabList[0].elementsData=this.cloneObj(i),this.tabList[1].elementsData=this.cloneObj(i),console.log("this.tabList[0]:",this.tabList[0])},dataClassify:function(e){if("ELEMENT_TYPE_IMAGE"==e.element_type){var t="",i=e.restriction.image_restriction.file_format;for(var a in i){t=t+this.imageTypeClassify(i[a])+"/"}t=t.substring(0,t.length-1),e.restriction.image_restriction.file_format_text=t,e.progressbar={status:"",percentage:0},e.preview_url="",e.itemvalue=""}else if("ELEMENT_TYPE_TEXT"==e.element_type)e.itemvalue="";else if("ELEMENT_TYPE_VIDEO"==e.element_type){t="",i=e.restriction.video_restriction.file_format;for(var a in i){t=t+this.videoTypeClassify(i[a])+"/"}t=t.substring(0,t.length-1),e.restriction.video_restriction.file_format_text=t,e.progressbar={status:"",percentage:0},e.preview_url="",e.itemvalue=""}else"ELEMENT_TYPE_URL"==e.element_type?e.itemvalue="":"ELEMENT_TYPE_ENUM"==e.element_type?(e.description="请选择"+e.description,e.itemvalue=""):"ELEMENT_TYPE_CANVAS"==e.element_type||e.element_type;return e},campaignChange:function(e){var t;t=this.adCampaignsList.find(function(t){return t.campaign_id===e}),this.form.product_type=t.product_type,1===this.productTypeList[t.product_type].product_refs_id?(this.productShow=!0,this.destinationUrlShow=!1,this.getProducts({product_type:t.product_type})):(this.productShow=!1,this.form.destination_url="",this.destinationUrlShow=!0,this.form.product_refs_id=""),this.Adcreativeinfo.product_type=t.product_type,this.Adcreativeinfo.site_set&&this.Adcreativeinfo.product_type&&(this.getAdcreativetemplateinfo(),this.$refs.adCreativeTable.clearFilter())},productChange:function(e){var t;t=this.productList.find(function(t){return t.product_refs_id===e}),this.form.destination_url=t.product_url},siteSetListChange:function(e){this.Adcreativeinfo.site_set=e,this.Adcreativeinfo.site_set&&this.Adcreativeinfo.product_type&&(this.getAdcreativetemplateinfo(),this.$refs.adCreativeTable.clearFilter())},getAdcreativetemplateinfo:function(){var e=this;this.loading=!0;var t=e.Adcreativeinfo;t.account_id=this.account_id,this.$axios.get("/Admin/Marketing_Adcreativetemplateinfo/get",{params:t}).then(function(t){var i=t.data;0==i.code?e.adcreativeList=i.data.list:e.$message(i.msg),e.loading=!1}).catch(function(t){e.loading=!1,e.$message("网络繁忙，请稍后再试！"),console.log(t)})},onCancel:function(){this.$router.push("/advertising/adCreative")},onSubmit:function(){var e=this.form,t=this,i=this.tabList;if(!e.campaign_id)return t.$message("请选择推广计划"),!1;if(!e.product_type)return t.$message("请选择推广计划"),!1;if(!e.site_set)return t.$message("请选择投放站点"),!1;if(!this.adcreativeTemplateInfo_row.adcreative_elements)return t.$message("请选择创意规格"),!1;for(var a=!1,s="",r=[],n=0;n<i.length-1;n++){var l=i[n].elementsData,o=new Object;if(o.adcreative_name=i[n].adcreative_name,!i[n].adcreative_name&&i[n].adcreative_name.length>120){a=!0,s=i[n].name+"请填写字数在(1-120)的创意名称";break}var c=[];for(var d in l)if("structList"==d)for(var m in l[d]){var _=l[d][m].children;for(var p in _)for(var u in _[p])c.push(_[p][u])}else for(var m in l[d])"ELEMENT_TYPE_STRUCT"!=l[d][m].element_type&&c.push(l[d][m]);for(var d in c){var v=c[d],f=n+1;if("ELEMENT_TYPE_IMAGE"==v.element_type){if(v.required&&!v.itemvalue){a=!0,s="创意"+f+"请上传图片";break}}else if("ELEMENT_TYPE_VIDEO"==v.element_type){if(v.required&&!v.itemvalue){a=!0,s="创意"+f+"请上传视频";break}}else if("ELEMENT_TYPE_TEXT"==v.element_type){if(v.required&&!v.itemvalue){a=!0,s="创意"+f+"请填写"+v.description;break}if(v.itemvalue&&v.restriction&&v.restriction.text_restriction&&(v.restriction.text_restriction.max_length<v.itemvalue.length||v.restriction.text_restriction.min_length>v.itemvalue.length)){a=!0,s="请输入"+v.restriction.text_restriction.min_length+"~"+v.restriction.text_restriction.max_length+"的字符";break}}else if("ELEMENT_TYPE_URL"==v.element_type){if(v.required&&!v.itemvalue){a=!0,s="创意"+f+v.description+"不能为空";break}if(v.itemvalue&&v.restriction&&v.restriction.url_restriction){var g=v.restriction.url_restriction.url_pattern;if(!new RegExp(g).test(v.itemvalue)){a=!0,s="创意"+f+v.description+"格式不正确";break}}}else if("ELEMENT_TYPE_ENUM"==v.element_type&&v.required&&!v.itemvalue){a=!0,s="创意"+f+"请选择"+v.description;break}}if(a)break;for(var d in l){var h=l[d];for(var p in h)if(h[p].children){var E=h[p].children,L=[];for(var b in E){var C={};for(var u in E[b])C[u]=E[b][u].itemvalue;L.push(C)}1==L.length?o[h[p].parent.name]=L[0]:o[h[p].parent.name]=L}else o[h[p].name]=h[p].itemvalue}r.push(o)}if(a)return t.$message(s),!1;e.adcreative_elements=r,t.submitLoading=!0,e.account_id=this.account_id,this.$axios.get("/Admin/Marketing_Adcreatives/add",{params:e}).then(function(e){var i=e.data;t.submitLoading=!1,0==i.code?(t.$message({type:"success",message:i.msg}),setTimeout(function(){t.$router.push("/advertising/adCreative")},500)):t.$message.error(i.msg)}).catch(function(e){t.$message("网络繁忙，请稍后再试！"),t.submitLoading=!1,console.log(e)})},getAdCommongetEnum:function(){var e=this;this.$axios.get("/Admin/Marketing_Common/getEnum",{}).then(function(t){var i=t.data;0==i.code&&(e.element_type_list=i.data.ELEMENT_TYPE,e.site_setList=i.data.SITE_SET,e.ADCREATIVE_STYLE_list=i.data.ADCREATIVE_STYLE,e.productTypeList=i.data.PRODUCT_TYPE)}).catch(function(e){console.log(e)})},getProducts:function(e){var t=this;e.account_id=this.account_id,this.$axios.get("/Admin/Marketing_Products/list",{params:e}).then(function(e){var i=e.data;0==i.code?t.productList=i.data:t.$message(i.msg)}).catch(function(e){t.$message("网络繁忙，请稍后再试！")})},getAdCampaigns:function(e){var t=this;e.account_id=this.account_id,this.$axios.get("/Admin/Marketing_Campaigns/get",{params:e}).then(function(e){var i=e.data;0==i.code?(i.data.list||i.data.page_info)&&(t.adCampaignsList=i.data.list,t.loadingCampaign=!1,console.log(t.adCampaignsList)):(t.$message(i.msg),t.loadingCampaign=!1)}).catch(function(e){t.$message("网络繁忙，请稍后再试！"),t.loadingCampaign=!1})}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"template-container"},[i("div",{staticClass:"template-container-title"},[e._v("新建广告创意")]),e._v(" "),i("el-form",{ref:"form",attrs:{model:e.form,inline:!0}},[i("div",{staticClass:"temp-item-block"},[i("div",{staticClass:"temp-item-title"},[e._v("推广计划")]),e._v(" "),i("div",{staticClass:"temp-item-main"},[i("el-form-item",{attrs:{label:"所属推广计划"}},[i("el-select",{attrs:{filterable:"",remote:"",placeholder:"选择推广计划","remote-method":e.remoteCampaign,loading:e.loadingCampaign},on:{change:e.campaignChange},model:{value:e.form.campaign_id,callback:function(t){e.$set(e.form,"campaign_id",t)},expression:"form.campaign_id"}},e._l(e.adCampaignsList,function(e){return i("el-option",{key:e.campaign_id,attrs:{"data-type":e.product_type,label:e.campaign_name,value:e.campaign_id}})}))],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.newCampaign}},[e._v("新建计划")])],1)],1)]),e._v(" "),i("div",{staticClass:"temp-item-block"},[i("div",{staticClass:"temp-item-title"},[e._v("站点")]),e._v(" "),i("div",{staticClass:"temp-item-main"},[i("label",{staticClass:"temp-item-label",attrs:{for:""}},[e._v("投放媒体")]),e._v(" "),i("div",{staticClass:"radio-group-inlineblock"},[i("el-radio-group",{on:{change:e.siteSetListChange},model:{value:e.form.site_set,callback:function(t){e.$set(e.form,"site_set",t)},expression:"form.site_set"}},e._l(e.site_setList,function(t,a){return i("el-radio",{key:a,staticClass:"radio-group-item",attrs:{label:a}},[e._v(e._s(t))])}))],1)])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.productShow,expression:"productShow"}],staticClass:"temp-item-block"},[i("div",{staticClass:"temp-item-title"},[e._v("目标详情")]),e._v(" "),i("div",{staticClass:"temp-item-main"},[i("el-form-item",{attrs:{label:"标的物"}},[i("el-select",{attrs:{filterable:"",placeholder:"选择标的物"},on:{change:e.productChange},model:{value:e.form.product_refs_id,callback:function(t){e.$set(e.form,"product_refs_id",t)},expression:"form.product_refs_id"}},e._l(e.productList,function(e){return i("el-option",{key:e.product_refs_id,attrs:{label:e.product_name,value:e.product_refs_id}})}))],1)],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.destinationUrlShow,expression:"destinationUrlShow"}],staticClass:"temp-item-block"},[i("div",{staticClass:"temp-item-title"},[e._v("落地页")]),e._v(" "),i("div",{staticClass:"temp-item-main"},[i("el-form-item",{attrs:{label:"落地页url"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.destination_url,expression:"form.destination_url"}],staticClass:"temp-long-inputtext",attrs:{type:"text",value:"",maxlength:"1023"},domProps:{value:e.form.destination_url},on:{input:function(t){t.target.composing||e.$set(e.form,"destination_url",t.target.value)}}})])],1)]),e._v(" "),i("div",{staticClass:"temp-item-block"},[i("div",{staticClass:"temp-item-title"},[e._v("创意规格")]),e._v(" "),i("div",{staticClass:"temp-item-main",staticStyle:{display:"inline-flex"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"adCreativeTable",staticStyle:{width:"100%"},attrs:{data:e.adcreativeList,"max-height":"556","highlight-current-row":"","default-sort":{prop:"date",order:"descending"}},on:{"current-change":e.handleCurrentChange}},[i("el-table-column",{attrs:{fixed:"",prop:"adcreative_template_id",label:"ID",sortable:""}}),e._v(" "),i("el-table-column",{attrs:{prop:"adcreative_template_name",label:"广告版位"}}),e._v(" "),i("el-table-column",{attrs:{"filter-placement":"bottom-start","filter-method":e.filterHandler,filters:e.element_type_filter,prop:"adcreative_template_style",label:"创意形式",formatter:e.formatterCrtstyle}}),e._v(" "),i("el-table-column",{attrs:{prop:"adcreative_template_desc",label:"创意规格描述"}})],1),e._v(" "),e.adcreativeTemplateInfo_row.adcreative_sample_image.image?i("div",{staticStyle:{float:"right",width:"200px"}},[i("img",{staticStyle:{width:"100%"},attrs:{src:e.adcreativeTemplateInfo_row.adcreative_sample_image.image}}),e._v(" "),i("div",{staticClass:"sample_image_info"},[i("p",[e._v(e._s(e.adcreativeTemplateInfo_row.adcreative_sample_image.name)+" "),i("br"),e._v(" "),i("span",[e._v("(广告可能出现在以上位置)")])]),e._v(" "),i("span",[e._v(e._s(e.adcreativeTemplateInfo_row.adcreative_template_size))])])]):e._e()],1)]),e._v(" "),i("div",{staticClass:"temp-item-block"},[i("div",{staticClass:"temp-item-title"},[e._v("上传创意")]),e._v(" "),i("div",{staticClass:"temp-item-main"},[i("el-tabs",{on:{"tab-click":e.handleTbaClick},model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},e._l(e.tabList,function(t,a){return i("el-tab-pane",{key:t.name,attrs:{label:t.label,name:t.name}},[i("div",{staticClass:"uploadurl-input"},[i("el-input",{attrs:{placeholder:"请输入创意名称",name:"adcreative_name",clearable:""},model:{value:t.adcreative_name,callback:function(i){e.$set(t,"adcreative_name",i)},expression:"tabItem.adcreative_name"}})],1),e._v(" "),e._l(t.elementsData.structList,function(s,r){return t.elementsData.structList.length>0?i("div",{key:s.parent.name+r,staticClass:"uploadList-wrap"},e._l(s.children,function(t,s){return i("div",e._l(t,function(t,n){return i("div",["ELEMENT_TYPE_VIDEO"==t.element_type?i("div",{staticClass:"uploadList-li"},[i("input",{staticClass:"uploadfile-input",attrs:{type:"file"},on:{change:function(t){e.uploadfileChange(t,r,a,"video",n,s)}}}),e._v(" "),i("div",{staticClass:"uploadfile-item"},[i("div",[i("i",{staticClass:"el-icon-upload icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("\n                          将视频文件拖到此处，或\n                          "),i("em",[e._v("点击上传")]),e._v(" "),i("br"),e._v(" "),i("p",{staticClass:"upload-size"},[e._v("\n                            "+e._s(t.restriction.video_restriction.min_width||t.restriction.video_restriction.width)+"px * "+e._s(t.restriction.video_restriction.min_height||t.restriction.video_restriction.height)+"px "),i("br"),e._v(" "),i("span",[e._v("（推荐尺寸）")])])])]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传"+e._s(t.restriction.video_restriction.file_format_text)+"文件，且不超过"+e._s(t.restriction.video_restriction.file_size)+"kb")])]),e._v(" "),i("el-progress",{attrs:{percentage:t.progressbar.percentage,status:t.progressbar.status}})],1):e._e(),e._v(" "),"ELEMENT_TYPE_IMAGE"==t.element_type?i("div",{staticClass:"uploadList-li"},[i("input",{staticClass:"uploadfile-input",attrs:{type:"file"},on:{change:function(t){e.uploadfileChange(t,r,a,"image",n,s)}}}),e._v(" "),i("div",{staticClass:"uploadfile-item"},[i("img",{staticClass:"uploadfile-preview",attrs:{src:t.preview_url}}),e._v(" "),t.preview_url?e._e():i("div",[i("i",{staticClass:"el-icon-upload icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("\n                          将图片文件拖到此处，或\n                          "),i("em",[e._v("点击上传")]),e._v(" "),i("br"),e._v(" "),i("p",{staticClass:"upload-size"},[e._v("\n                            "+e._s(t.restriction.image_restriction.width)+"px * "+e._s(t.restriction.image_restriction.height)+"px "),i("br"),e._v(" "),i("span",[e._v("（推荐尺寸）")])])])]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传"+e._s(t.restriction.image_restriction.file_format_text)+"文件，且不超过"+e._s(t.restriction.image_restriction.file_size)+"kb")])]),e._v(" "),i("el-progress",{attrs:{percentage:t.progressbar.percentage,status:t.progressbar.status}})],1):e._e(),e._v(" "),"ELEMENT_TYPE_ENUM"==t.element_type?i("div",{staticClass:"uploadurl-input"},[i("el-select",{attrs:{placeholder:t.description},model:{value:t.itemvalue,callback:function(i){e.$set(t,"itemvalue",i)},expression:"children.itemvalue"}},e._l(t.enum_property.enumeration,function(e,t){return i("el-option",{key:e.value,attrs:{value:e.value,label:e.description}})}))],1):e._e(),e._v(" "),"ELEMENT_TYPE_TEXT"==t.element_type&&t.restriction.text_restriction?i("div",{staticClass:"uploadurl-input"},[i("el-input",{attrs:{minlength:t.restriction.text_restriction.min_length,maxlength:t.restriction.text_restriction.max_length,placeholder:t.description,name:t.name,clearable:""},model:{value:t.itemvalue,callback:function(i){e.$set(t,"itemvalue",i)},expression:"children.itemvalue"}})],1):"ELEMENT_TYPE_TEXT"!=t.element_type||t.restriction.text_restriction?e._e():i("div",{staticClass:"uploadurl-input"},[i("el-input",{attrs:{placeholder:t.description,name:t.name,clearable:""},model:{value:t.itemvalue,callback:function(i){e.$set(t,"itemvalue",i)},expression:"children.itemvalue"}})],1),e._v(" "),"ELEMENT_TYPE_URL"==t.element_type?i("div",{staticClass:"uploadurl-input"},[i("el-input",{attrs:{placeholder:t.description,name:t.name,clearable:""},model:{value:t.itemvalue,callback:function(i){e.$set(t,"itemvalue",i)},expression:"children.itemvalue"}})],1):e._e()])}))})):e._e()}),e._v(" "),t.elementsData.videoList.length>0?i("div",{staticClass:"uploadList-wrap"},e._l(t.elementsData.videoList,function(t,s){return i("div",{key:t.name+s,staticClass:"uploadList-li"},[i("input",{staticClass:"uploadfile-input",attrs:{type:"file"},on:{change:function(t){e.uploadfileChange(t,s,a,"video")}}}),e._v(" "),i("div",{staticClass:"uploadfile-item"},[i("div",[i("i",{staticClass:"el-icon-upload icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("\n                      将视频文件拖到此处，或\n                      "),i("em",[e._v("点击上传")]),e._v(" "),i("br"),e._v(" "),i("p",{staticClass:"upload-size"},[e._v("\n                        "+e._s(t.restriction.video_restriction.min_width||t.restriction.video_restriction.width)+"px * "+e._s(t.restriction.video_restriction.min_height||t.restriction.video_restriction.height)+"px "),i("br"),e._v(" "),i("span",[e._v("（推荐尺寸）")])])])]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传"+e._s(t.restriction.video_restriction.file_format_text)+"文件，且不超过"+e._s(t.restriction.video_restriction.file_size)+"kb")])]),e._v(" "),i("el-progress",{attrs:{percentage:t.progressbar.percentage,status:t.progressbar.status}})],1)})):e._e(),e._v(" "),t.elementsData.imageList.length>0?i("div",{staticClass:"uploadList-wrap"},e._l(t.elementsData.imageList,function(t,s){return i("div",{key:t.name+s,staticClass:"uploadList-li"},[i("input",{staticClass:"uploadfile-input",attrs:{type:"file"},on:{change:function(t){e.uploadfileChange(t,s,a,"image")}}}),e._v(" "),i("div",{staticClass:"uploadfile-item"},[i("img",{staticClass:"uploadfile-preview",attrs:{src:t.preview_url}}),e._v(" "),t.preview_url?e._e():i("div",[i("i",{staticClass:"el-icon-upload icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("\n                      将图片文件拖到此处，或\n                      "),i("em",[e._v("点击上传")]),e._v(" "),i("br"),e._v(" "),i("p",{staticClass:"upload-size"},[e._v("\n                        "+e._s(t.restriction.image_restriction.width)+"px * "+e._s(t.restriction.image_restriction.height)+"px "),i("br"),e._v(" "),i("span",[e._v("（推荐尺寸）")])])])]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传"+e._s(t.restriction.image_restriction.file_format_text)+"文件，且不超过"+e._s(t.restriction.image_restriction.file_size)+"kb")])]),e._v(" "),i("el-progress",{attrs:{percentage:t.progressbar.percentage,status:t.progressbar.status}})],1)})):e._e(),e._v(" "),e._l(t.elementsData.enumList,function(a,s){return t.elementsData.enumList.length>0?i("div",{key:a.name+s,staticClass:"uploadurl-input"},[i("el-select",{attrs:{placeholder:a.description},model:{value:a.itemvalue,callback:function(t){e.$set(a,"itemvalue",t)},expression:"uploadItem.itemvalue"}},e._l(a.enum_property.enumeration,function(e,t){return i("el-option",{key:e.value,attrs:{value:e.value,label:e.description}})}))],1):e._e()}),e._v(" "),e._l(t.elementsData.textList,function(a,s){return t.elementsData.textList.length>0?i("div",{key:a.name+s,staticClass:"uploadurl-input"},["ELEMENT_TYPE_TEXT"==a.element_type&&a.restriction.text_restriction?i("div",[i("el-input",{attrs:{minlength:a.restriction.text_restriction.min_length,maxlength:a.restriction.text_restriction.max_length,placeholder:a.description,name:a.name,clearable:""},model:{value:a.itemvalue,callback:function(t){e.$set(a,"itemvalue",t)},expression:"uploadItem.itemvalue"}})],1):"ELEMENT_TYPE_TEXT"!=a.element_type||a.restriction.text_restriction?e._e():i("div",[i("el-input",{attrs:{placeholder:a.description,name:a.name,clearable:""},model:{value:a.itemvalue,callback:function(t){e.$set(a,"itemvalue",t)},expression:"uploadItem.itemvalue"}})],1)]):e._e()}),e._v(" "),e._l(t.elementsData.urlList,function(a,s){return t.elementsData.urlList.length>0?i("div",{key:a.name+s,staticClass:"uploadurl-input"},[i("el-input",{attrs:{placeholder:a.description,name:a.name,clearable:""},model:{value:a.itemvalue,callback:function(t){e.$set(a,"itemvalue",t)},expression:"uploadItem.itemvalue"}})],1):e._e()})],2)}))],1)]),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.onSubmit}},[e._v("立即创建")]),e._v(" "),i("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(l,o,!1,function(e){i("vM8Q")},"data-v-0ae9a02b",null);t.default=c.exports},vM8Q:function(e,t){}});
//# sourceMappingURL=9.5b071d1bfcc297641976.js.map