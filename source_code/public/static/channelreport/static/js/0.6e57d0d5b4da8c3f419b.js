webpackJsonp([0],{OieE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={created:function(){this.setPickerDate(),this.getAppList(),this.getActivityList(),this.getChannelReport(this.reportParams)},data:function(){return{loading:!1,reportParams:{sdate:"",edate:"",app_id:[],activity_id:[]},appList:[],activityList:[],channelReportList:[],pickerDate:[(new Date).setTime((new Date).getTime()-6048e5),new Date],pickerOptions2:{shortcuts:[{text:"今天",onClick:function(e){var t=new Date,a=new Date;e.$emit("pick",[a,t])}},{text:"昨天",onClick:function(e){var t=new Date,a=new Date;t.setTime(t.getTime()-864e5),a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"过去7天",onClick:function(e){var t=new Date,a=new Date;t.setTime(t.getTime()-864e5),a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"过去30天",onClick:function(e){var t=new Date,a=new Date;t.setTime(t.getTime()-864e5),a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}}]},value6:"",value7:""}},methods:{exportExcel:function(){var e="";for(var t in this.reportParams)e=e+t+"="+this.reportParams[t]+"&";e=e.substring(0,e.length-1),window.location.href="/Admin/Channelreport_Api/exportChannelReport?"+e},setPickerDate:function(){var e=new Date,t=new Date;t.setTime(t.getTime()-6048e5),this.reportParams.sdate=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),this.reportParams.edate=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},pickerDateChange:function(){var e=new Date(this.pickerDate[0]),t=new Date(this.pickerDate[1]);this.reportParams.sdate=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),this.reportParams.edate=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},searchGetAndroidChannelList:function(){this.getChannelReport(this.reportParams)},getAppList:function(){var e=this;this.$axios.get("/Admin/Channelreport_Api/getAppList").then(function(t){var a=t.data;a.success?e.appList=a.data:e.$message(a.msg)}).catch(function(t){e.$message("网络繁忙，请稍后再试！"),console.log(t)})},getActivityList:function(){var e=this;this.$axios.get("/Admin/Channelreport_Api/getActivityList").then(function(t){var a=t.data;a.success?e.activityList=a.data:e.$message(a.msg)}).catch(function(t){e.$message("网络繁忙，请稍后再试！"),console.log(t)})},getChannelReport:function(e){this.loading=!0;var t=this;this.$axios.get("/Admin/Channelreport_Api/getChannelReport",{params:e}).then(function(e){t.loading=!1;var a,i,l=e.data;l.success?(i=l.data.table)&&i.length>0?((a=l.data.total).date_of_log="汇总",i.splice(0,0,a),t.channelReportList=i):t.channelReportList=[]:t.$message(l.msg)}).catch(function(e){t.loading=!1,t.$message("网络繁忙，请稍后再试！"),console.log(e)})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template-container"},[a("div",{staticClass:"template-item-wrap"},[a("div",{staticClass:"temp-item-inlineblock"},[a("el-date-picker",{attrs:{type:"daterange",align:"left","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2},on:{change:e.pickerDateChange},model:{value:e.pickerDate,callback:function(t){e.pickerDate=t},expression:"pickerDate"}})],1),e._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-select",{attrs:{multiple:"",filterable:"",placeholder:"请选择应用"},model:{value:e.reportParams.app_id,callback:function(t){e.$set(e.reportParams,"app_id",t)},expression:"reportParams.app_id"}},e._l(e.appList,function(e){return a("el-option",{key:e.app_id,attrs:{label:e.app_name,value:e.app_id}})}))],1),e._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-select",{attrs:{size:"90",multiple:"",filterable:"",placeholder:"请选活动"},model:{value:e.reportParams.activity_id,callback:function(t){e.$set(e.reportParams,"activity_id",t)},expression:"reportParams.activity_id"}},e._l(e.activityList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-button",{attrs:{type:"primary"},on:{click:e.searchGetAndroidChannelList}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出为excel")])],1)]),e._v(" "),a("div",{staticClass:"table-wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{height:"700",data:e.channelReportList,"default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{prop:"date_of_log",label:"日期",width:"110",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"consumer_key",label:"投放应用",width:"220",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"activity_id",label:"投放活动",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"clicks",label:"点击数",width:"140",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"effect_clicks",label:"排重点击数",width:"140",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"actives",label:"激活数",width:"140",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"registers",label:"注册数",width:"140",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"callbacks",label:"回调数",width:"140",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"active_rate",label:"激活率(%)",width:"140",sortable:""}})],1)],1)])},staticRenderFns:[]};var n=a("VU/8")(i,l,!1,function(e){a("UJbr")},"data-v-01dc7ff0",null);t.default=n.exports},UJbr:function(e,t){}});
//# sourceMappingURL=0.6e57d0d5b4da8c3f419b.js.map