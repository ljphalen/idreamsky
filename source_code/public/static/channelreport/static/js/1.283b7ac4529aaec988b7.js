webpackJsonp([1],{MDFf:function(e,t){},zURd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={created:function(){this.setPickerDate(),this.getAndroidChannelList(),this.getPackageReport(this.reportParams)},data:function(){return{loading:!1,reportParams:{sdate:"",edate:"",channel_no:[]},AndroidChannelList:[],channelReportList:[],pickerDate:[(new Date).setTime((new Date).getTime()-6048e5),new Date],pickerOptions2:{shortcuts:[{text:"今天",onClick:function(e){var t=new Date,a=new Date;e.$emit("pick",[a,t])}},{text:"昨天",onClick:function(e){var t=new Date,a=new Date;t.setTime(t.getTime()-864e5),a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"过去7天",onClick:function(e){var t=new Date,a=new Date;t.setTime(t.getTime()-864e5),a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"过去30天",onClick:function(e){var t=new Date,a=new Date;t.setTime(t.getTime()-864e5),a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}}]},value6:"",value7:""}},methods:{exportExcel:function(){var e="";for(var t in this.reportParams)e=e+t+"="+this.reportParams[t]+"&";e=e.substring(0,e.length-1),window.location.href="/Admin/Channelreport_Api/exportPackageReport?"+e},setPickerDate:function(){var e=new Date,t=new Date;t.setTime(t.getTime()-6048e5),this.reportParams.sdate=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),this.reportParams.edate=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},pickerDateChange:function(){var e=new Date(this.pickerDate[0]),t=new Date(this.pickerDate[1]);this.reportParams.sdate=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),this.reportParams.edate=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},searchGetAndroidChannelList:function(){this.getPackageReport(this.reportParams)},getAndroidChannelList:function(){var e=this;this.$axios.get("/Admin/Channelreport_Api/getAndroidChannelList").then(function(t){var a=t.data;a.success?(console.log(a.data),e.AndroidChannelList=a.data):e.$message(a.msg)}).catch(function(t){e.$message("网络繁忙，请稍后再试！"),console.log(t)})},getPackageReport:function(e){console.log(e),this.loading=!0;var t=this;this.$axios.get("/Admin/Channelreport_Api/getPackageReport",{params:e}).then(function(e){t.loading=!1;var a,n,i=e.data;(console.log(i),i.success)?(n=i.data.table)&&n.length>0?((a=i.data.total).date_of_log="汇总",n.splice(0,0,a),t.channelReportList=n):t.channelReportList=[]:t.$message(i.msg)}).catch(function(e){t.loading=!1,t.$message("网络繁忙，请稍后再试！"),console.log(e)})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template-container"},[a("div",{staticClass:"template-item-wrap"},[a("div",{staticClass:"temp-item-inlineblock"},[a("el-date-picker",{attrs:{type:"daterange",align:"left","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2},on:{change:e.pickerDateChange},model:{value:e.pickerDate,callback:function(t){e.pickerDate=t},expression:"pickerDate"}})],1),e._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-select",{attrs:{size:"100",multiple:"",filterable:"",placeholder:"请选择渠道包"},model:{value:e.reportParams.channel_no,callback:function(t){e.$set(e.reportParams,"channel_no",t)},expression:"reportParams.channel_no"}},e._l(e.AndroidChannelList,function(e){return a("el-option",{key:e.channel_no,attrs:{label:e.channel_name,value:e.channel_no}})}))],1),e._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-button",{attrs:{type:"primary"},on:{click:e.searchGetAndroidChannelList}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"temp-item-inlineblock"},[a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出为excel")])],1)]),e._v(" "),a("div",{staticClass:"table-wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{height:"700",data:e.channelReportList,"default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{prop:"date_of_log",label:"日期",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"channel_no",label:"安卓渠道包",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"registers",label:"新增数",sortable:""}})],1)],1)])},staticRenderFns:[]};var r=a("VU/8")(n,i,!1,function(e){a("MDFf")},"data-v-56f596f8",null);t.default=r.exports}});
//# sourceMappingURL=1.283b7ac4529aaec988b7.js.map